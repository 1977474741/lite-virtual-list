(window.webpackJsonp=window.webpackJsonp||[]).push([[7,11],{316:function(t,e,i){},317:function(t,e,i){"use strict";i(316)},320:function(t,e,i){"use strict";i.r(e);var a={name:"loading",props:{color:{type:String,default:"#333"},text:{type:String,default:""}},data:function(){return{}}},r=(i(317),i(28)),s=Object(r.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"loading"},[t.text?i("span",{staticClass:"text"},[t._v(t._s(t.text))]):t._e(),t._v(" "),i("span",[i("svg",{staticStyle:{"enable-background":"new 0 0 50 50"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"24px",height:"30px",viewBox:"0 0 24 30","xml:space":"preserve"}},[i("rect",{attrs:{x:"0",y:"10",width:"4",height:"10",fill:t.color,opacity:"0.2"}},[i("animate",{attrs:{attributeName:"opacity",attributeType:"XML",values:"0.2; 1; .2",begin:"0s",dur:"0.6s",repeatCount:"indefinite"}}),t._v(" "),i("animate",{attrs:{attributeName:"height",attributeType:"XML",values:"10; 20; 10",begin:"0s",dur:"0.6s",repeatCount:"indefinite"}}),t._v(" "),i("animate",{attrs:{attributeName:"y",attributeType:"XML",values:"10; 5; 10",begin:"0s",dur:"0.6s",repeatCount:"indefinite"}})]),t._v(" "),i("rect",{attrs:{x:"8",y:"10",width:"4",height:"10",fill:t.color,opacity:"0.2"}},[i("animate",{attrs:{attributeName:"opacity",attributeType:"XML",values:"0.2; 1; .2",begin:"0.15s",dur:"0.6s",repeatCount:"indefinite"}}),t._v(" "),i("animate",{attrs:{attributeName:"height",attributeType:"XML",values:"10; 20; 10",begin:"0.15s",dur:"0.6s",repeatCount:"indefinite"}}),t._v(" "),i("animate",{attrs:{attributeName:"y",attributeType:"XML",values:"10; 5; 10",begin:"0.15s",dur:"0.6s",repeatCount:"indefinite"}})]),t._v(" "),i("rect",{attrs:{x:"16",y:"10",width:"4",height:"10",fill:t.color,opacity:"0.2"}},[i("animate",{attrs:{attributeName:"opacity",attributeType:"XML",values:"0.2; 1; .2",begin:"0.3s",dur:"0.6s",repeatCount:"indefinite"}}),t._v(" "),i("animate",{attrs:{attributeName:"height",attributeType:"XML",values:"10; 20; 10",begin:"0.3s",dur:"0.6s",repeatCount:"indefinite"}}),t._v(" "),i("animate",{attrs:{attributeName:"y",attributeType:"XML",values:"10; 5; 10",begin:"0.3s",dur:"0.6s",repeatCount:"indefinite"}})])])])])}),[],!1,null,"2700754c",null);e.default=s.exports},348:function(t,e,i){},386:function(t,e,i){"use strict";i(348)},402:function(t,e,i){"use strict";i.r(e);i(100),i(170),i(168),i(171);var a=i(5),r=i(319),s=i.n(r),n=i(320),o=function(t){var e=Math.max.apply(Math,Object(a.a)(t)),i=Math.min.apply(Math,Object(a.a)(t)),r=Math.random()*(e-i)+i;return Math.round(r)},l={name:"waterfall-imgs",data:function(){return{virtualHieght:"500px",items:[],isLoad:!1,loadindex:0,itemWidth:200,cacheImgIndex:[]}},components:{loading:n.default},mounted:function(){var t=this;this.items=this.getImg(),this.$on("abc",(function(t){console.log(t)})),this.$nextTick((function(){t.lazyLoad()}))},methods:{lazyLoad:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=document.querySelectorAll(".left-item .imgs"),i=document.querySelectorAll(".right-item .imgs");this.replaceUrl(e,t.renderLeftScrollTop||0),this.replaceUrl(i,t.renderRightScrollTop||0)},replaceUrl:function(t,e){for(var i=0;i<t.length;i++)if(e<t[i].offsetTop+t[i].offsetHeight&&t[i].offsetTop<e+parseInt(this.virtualHieght))t[i].src=t[i].getAttribute("_src");else{var a=+t[i].getAttribute("vid");this.cacheImgIndex.includes(a)||(t[i].src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1600 900'%3E%3Cdefs%3E%3ClinearGradient id='a' x1='0' x2='0' y1='1' y2='0'%3E%3Cstop offset='0' stop-color='%230FF'/%3E%3Cstop offset='1' stop-color='%23CF6'/%3E%3C/linearGradient%3E%3ClinearGradient id='b' x1='0' x2='0' y1='0' y2='1'%3E%3Cstop offset='0' stop-color='%23F00'/%3E%3Cstop offset='1' stop-color='%23FC0'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg fill='%23FFF' fill-opacity='0' stroke-miterlimit='10'%3E%3Cg stroke='url(%23a)' stroke-width='2'%3E%3Cpath transform='translate(0 0)' d='M1409 581 1450.35 511 1490 581z'/%3E%3Ccircle stroke-width='4' transform='rotate(0 800 450)' cx='500' cy='100' r='40'/%3E%3Cpath transform='translate(0 0)' d='M400.86 735.5h-83.73c0-23.12 18.74-41.87 41.87-41.87S400.86 712.38 400.86 735.5z'/%3E%3C/g%3E%3Cg stroke='url(%23b)' stroke-width='4'%3E%3Cpath transform='translate(0 0)' d='M149.8 345.2 118.4 389.8 149.8 434.4 181.2 389.8z'/%3E%3Crect stroke-width='8' transform='rotate(0 1089 759)' x='1039' y='709' width='100' height='100'/%3E%3Cpath transform='rotate(0 1400 132)' d='M1426.8 132.4 1405.7 168.8 1363.7 168.8 1342.7 132.4 1363.7 96 1405.7 96z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")}},imgLoad:function(t,e){0===e.target.src.indexOf("http")&&(t.visible||(t.visible=!0,this.cacheImgIndex.push(t.id),this.$set(this.items,t.id,t)))},imgError:function(t){console.log(t,"err")},loadMore:function(){var t=this;this.isLoad||(this.isLoad=!0,setTimeout((function(){t.loadindex++;for(var e=[],i=30*t.loadindex;i<30*t.loadindex+30;i++)e.push(t.getItem(i));t.items=[].concat(Object(a.a)(t.items),e),t.isLoad=!1}),300))},setImgHeight:function(t,e){return parseInt(this.itemWidth*e/t)},getImg:function(){for(var t=[],e=0;e<30;e++)t.push(this.getItem(e));return t},getItem:function(t){var e=o([200,500]),i=o([200,500]),a=s.a.Random.image("".concat(e,"x").concat(i),"".concat(s.a.Random.color())),r=this.setImgHeight(e,i),n=o([80,120]);return{id:t,url:a,visible:!1,contentHeight:n,imgHeight:r,height:r+n}}}},c=(i(386),i(28)),u=Object(c.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"waterfall-imgs"},[i("lite-virtual-list",{ref:"virtualList",attrs:{type:"waterfall",marginBottom:16,screen:[1,1],custom:"",remain:8,virtualHieght:t.virtualHieght,data:t.items,distance:200},on:{scroll:t.lazyLoad,loadMore:t.loadMore},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.item;return[i("div",{staticClass:"item"},[i("img",{staticClass:"imgs",style:{opacity:a.visible?1:0,height:a.imgHeight+"px"},attrs:{vid:a.id,_src:a.url},on:{error:t.imgError,load:function(e){return t.imgLoad(a,e)}}}),t._v(" "),i("div",{staticClass:"info",style:{height:a.contentHeight+"px",lineHeight:a.contentHeight+"px"}},[t._v("#"+t._s(a.id))])])]}}])},[t._v(" "),t.isLoad?i("loading",{staticClass:"loading",attrs:{slot:"bottom",color:"red"},slot:"bottom"}):t._e()],1)],1)}),[],!1,null,"14326c77",null);e.default=u.exports}}]);